{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="alert alert-info shadow-sm mt-3">
        <h1 class="display-4">Ласкаво просимо, {{ username }}!</h1>
        <p class="lead">Тут ви можете керувати своїми куками.</p>
        <hr class="my-4">
        <a class="btn btn-danger" href="{{ url_for('users.logout') }}" role="button">Вийти</a>
    </div>

    <div class="row mt-4">
        <div class="col-md-6">
            <h3>Додати куку</h3>
            <div class="card p-3 shadow-sm mb-3">
                <form action="{{ url_for('users.add_cookie') }}" method="POST">
                    <div class="mb-3">
                        <label for="key" class="form-label">Ключ (Key)</label>
                        <input type="text" class="form-control" id="key" name="key" required>
                    </div>
                    <div class="mb-3">
                        <label for="value" class="form-label">Значення (Value)</label>
                        <input type="text" class="form-control" id="value" name="value" required>
                    </div>
                    <div class="mb-3">
                        <label for="expiry" class="form-label">Термін дії (сек)</label>
                        <input type="number" class="form-control" id="expiry" name="expiry" required>
                    </div>
                    <button type="submit" class="btn btn-success">Додати куку</button>
                </form>
            </div>
        </div>

        <div class="col-md-6">
            <h3>Видалити куку</h3>
            <div class="card p-3 shadow-sm mb-3">
                <form action="{{ url_for('users.delete_cookie') }}" method="POST">
                    <div class="mb-3">
                        <label for="del_key" class="form-label">Ключ куки для видалення</label>
                        <input type="text" class="form-control" id="del_key" name="key" required>
                    </div>
                    <button type="submit" class="btn btn-warning">Видалити за ключем</button>
                </form>
            </div>

            <div class="card p-3 shadow-sm">
                <h3>Видалити всі куки</h3>
                <form action="{{ url_for('users.delete_all_cookies') }}" method="POST">
                    <button type="submit" class="btn btn-danger">Видалити всі</button>
                </form>
            </div>
        </div>
    </div>

    <div class="row mt-4 mb-5">
        <div class="col-12">
            <h3>Список всіх куків</h3>
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th>Ключ</th>
                        <th>Значення</th>
                    </tr>
                </thead>
                <tbody>
                    {% for key, value in cookies.items() %}
                    <tr>
                        <td>{{ key }}</td>
                        <td>{{ value }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}